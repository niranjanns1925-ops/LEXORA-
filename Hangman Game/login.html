<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEXORA â€“ Word Duel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Noto+Sans+Tamil:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="login.css">
</head>

<body>

    <!-- Animated background particles -->
    <div class="bg-particles">
        <span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span>
    </div>

    <div class="login-wrapper">

        <!-- Language Toggle -->
        <div class="lang-toggle">
            <button class="lang-btn active" id="btn-en" onclick="setLang('en')">English</button>
            <button class="lang-btn" id="btn-ta" onclick="setLang('ta')">à®¤à®®à®¿à®´à¯</button>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOGIN CARD â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="login-card" id="loginCard">

            <div class="logo-area">
                <div class="hangman-icon">ğŸ¯</div>
                <h1 class="game-title" id="txt-title">LEXORA</h1>
                <p class="game-subtitle" id="txt-subtitle">Guess the word. Beat the clock. Dominate!</p>
            </div>

            <form class="login-form" id="loginForm" onsubmit="handleLogin(event)">

                <div class="input-group">
                    <label for="username" id="lbl-username">Username</label>
                    <div class="input-wrap">
                        <span class="input-icon">ğŸ‘¤</span>
                        <input type="text" id="username" name="username" placeholder="Enter your username"
                            autocomplete="off" required>
                    </div>
                </div>

                <div class="input-group">
                    <label for="password" id="lbl-password">Password</label>
                    <div class="input-wrap">
                        <span class="input-icon">ğŸ”’</span>
                        <input type="password" id="password" name="password" placeholder="Enter your password" required>
                        <button type="button" class="eye-btn" onclick="togglePass('password', this)">ğŸ‘ï¸</button>
                    </div>
                    <!-- Password strength bar (shown during register) -->
                    <div class="strength-wrap" id="strengthWrap" style="display:none">
                        <div class="strength-bar">
                            <div class="strength-fill" id="strengthFill"></div>
                        </div>
                        <span class="strength-label" id="strengthLabel"></span>
                    </div>
                </div>

                <div class="form-footer">
                    <label class="remember-me">
                        <input type="checkbox" id="remember">
                        <span id="txt-remember">Remember me</span>
                    </label>
                    <a href="#" class="forgot-link" id="txt-forgot" onclick="showForgot()">Forgot password?</a>
                </div>

                <p class="error-msg" id="errorMsg"></p>

                <button type="submit" class="login-btn" id="txt-loginbtn">
                    <span id="btn-label-text">Login &amp; Play</span>
                    <span class="btn-arrow">â†’</span>
                </button>

                <div class="divider"><span id="txt-or">or</span></div>

                <button type="button" class="guest-btn" onclick="guestLogin()" id="txt-guestbtn">
                    Play as Guest
                </button>

            </form>

            <p class="no-account">
                <span id="txt-noaccount">Don't have an account?</span>
                <a href="#" onclick="showRegister()" id="txt-register">Register</a>
            </p>
        </div>

        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• REGISTER CARD â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <div class="login-card" id="registerCard" style="display:none">

            <div class="logo-area">
                <div class="hangman-icon">ğŸ“</div>
                <h1 class="game-title" id="reg-title">Create Account</h1>
                <p class="game-subtitle" id="reg-subtitle">Set your own username &amp; password</p>
            </div>

            <form class="login-form" id="registerForm" onsubmit="handleRegister(event)">

                <div class="input-group">
                    <label id="reg-lbl-user">Username</label>
                    <div class="input-wrap">
                        <span class="input-icon">ğŸ‘¤</span>
                        <input type="text" id="reg-username" placeholder="Choose a username" autocomplete="off" required
                            minlength="3">
                    </div>
                    <small class="field-hint" id="reg-user-hint">At least 3 characters</small>
                </div>

                <div class="input-group">
                    <label id="reg-lbl-pass">Password</label>
                    <div class="input-wrap">
                        <span class="input-icon">ğŸ”’</span>
                        <input type="password" id="reg-password" placeholder="Create your password"
                            oninput="checkStrength(this.value)" required minlength="6">
                        <button type="button" class="eye-btn" onclick="togglePass('reg-password', this)">ğŸ‘ï¸</button>
                    </div>
                    <!-- Strength meter -->
                    <div class="strength-wrap">
                        <div class="strength-bar">
                            <div class="strength-fill" id="reg-strengthFill"></div>
                        </div>
                        <span class="strength-label" id="reg-strengthLabel">Type to check strength</span>
                    </div>
                </div>

                <div class="input-group">
                    <label id="reg-lbl-confirm">Confirm Password</label>
                    <div class="input-wrap">
                        <span class="input-icon">âœ…</span>
                        <input type="password" id="reg-confirm" placeholder="Repeat your password" required>
                        <button type="button" class="eye-btn" onclick="togglePass('reg-confirm', this)">ğŸ‘ï¸</button>
                    </div>
                </div>

                <p class="error-msg" id="regErrorMsg"></p>
                <p class="success-msg" id="regSuccessMsg"></p>

                <button type="submit" class="login-btn" id="reg-btn">
                    <span id="reg-btn-text">Create Account</span>
                    <span class="btn-arrow">â†’</span>
                </button>

            </form>

            <p class="no-account">
                <span id="reg-already">Already have an account?</span>
                <a href="#" onclick="showLogin()" id="reg-back">Back to Login</a>
            </p>
        </div>

        <!-- Fun fact strip -->
        <div class="fun-strip">
            <span class="fun-icon">ğŸ’¡</span>
            <span id="txt-funfact">Tip: The game has 100+ words across Tamil &amp; English categories!</span>
        </div>
    </div>

    <script>
        // â”€â”€â”€ Language Strings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const translations = {
            en: {
                title: "LEXORA",
                subtitle: "Guess the word. Beat the clock. Dominate!",
                username: "Username",
                password: "Password",
                remember: "Remember me",
                forgot: "Forgot password?",
                loginBtn: "Login & Play",
                or: "or",
                guestBtn: "Play as Guest",
                noAccount: "Don't have an account?",
                register: "Register",
                funfact: "ğŸ’¡ Tip: The game has 100+ words across Tamil & English categories!",
                userPH: "Enter your username",
                passPH: "Enter your password",
                errEmpty: "Please fill in all fields.",
                errWrong: "Invalid username or password.",
                welcome: "Welcome",
                // Register
                regTitle: "Create Account",
                regSubtitle: "Set your own username & password",
                regUser: "Username",
                regPass: "Password",
                regConfirm: "Confirm Password",
                regBtn: "Create Account",
                regBack: "Back to Login",
                regAlready: "Already have an account?",
                regUserHint: "At least 3 characters",
                regUserPH: "Choose a username",
                regPassPH: "Create your password",
                regConfirmPH: "Repeat your password",
                errMatch: "Passwords do not match.",
                errTaken: "Username already exists. Choose another.",
                errShort: "Password must be at least 6 characters.",
                errUserShort: "Username must be at least 3 characters.",
                successReg: "Account created! You can now login.",
                // Forgot
                forgotPrompt: "Enter your username to retrieve your password:",
                forgotFound: (u, p) => `Your password for "${u}" is: ${p}`,
                forgotNone: "No account found with that username.",
                // Strength
                weak: "Weak",
                fair: "Fair",
                good: "Good",
                strong: "Strong",
                typeCheck: "Type to check strength",
            },
            ta: {
                title: "LEXORA",
                subtitle: "à®µà®¾à®°à¯à®¤à¯à®¤à¯ˆà®¯à¯ˆ à®¯à¯‚à®•à®¿. à®¨à¯‡à®°à®¤à¯à®¤à¯ˆ à®µà¯†à®²à¯à®²à¯. à®†à®¤à®¿à®•à¯à®•à®®à¯ à®šà¯†à®²à¯à®¤à¯à®¤à¯!",
                username: "à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯",
                password: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯",
                remember: "à®à®©à¯à®©à¯ˆ à®¨à®¿à®©à¯ˆà®µà®¿à®²à¯ à®µà¯ˆ",
                forgot: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯ à®®à®±à®¨à¯à®¤à¯à®µà®¿à®Ÿà¯à®Ÿà®¤à®¾?",
                loginBtn: "à®‰à®³à¯à®¨à¯à®´à¯ˆà®¨à¯à®¤à¯ à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯",
                or: "à®…à®²à¯à®²à®¤à¯",
                guestBtn: "à®µà®¿à®°à¯à®¨à¯à®¤à®¿à®©à®°à®¾à®• à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯",
                noAccount: "à®•à®£à®•à¯à®•à¯ à®‡à®²à¯à®²à¯ˆà®¯à®¾?",
                register: "à®ªà®¤à®¿à®µà¯ à®šà¯†à®¯à¯à®•",
                funfact: "ğŸ’¡ à®•à¯à®±à®¿à®ªà¯à®ªà¯: à®‡à®¨à¯à®¤ à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯à®Ÿà®¿à®²à¯ à®¤à®®à®¿à®´à¯ à®®à®±à¯à®±à¯à®®à¯ à®†à®™à¯à®•à®¿à®² à®µà®•à¯ˆà®•à®³à®¿à®²à¯ 100+ à®µà®¾à®°à¯à®¤à¯à®¤à¯ˆà®•à®³à¯ à®‰à®³à¯à®³à®©!",
                userPH: "à®‰à®™à¯à®•à®³à¯ à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ˆ à®‰à®³à¯à®³à®¿à®Ÿà¯à®™à¯à®•à®³à¯",
                passPH: "à®‰à®™à¯à®•à®³à¯ à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯à®²à¯ˆ à®‰à®³à¯à®³à®¿à®Ÿà¯à®™à¯à®•à®³à¯",
                errEmpty: "à®…à®©à¯ˆà®¤à¯à®¤à¯ à®ªà¯à®²à®™à¯à®•à®³à¯ˆà®¯à¯à®®à¯ à®¨à®¿à®°à®ªà¯à®ªà®µà¯à®®à¯.",
                errWrong: "à®¤à®µà®±à®¾à®© à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ à®…à®²à¯à®²à®¤à¯ à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯.",
                welcome: "à®µà®°à®µà¯‡à®±à¯à®•à®¿à®±à¯‹à®®à¯",
                // Register
                regTitle: "à®•à®£à®•à¯à®•à¯ à®‰à®°à¯à®µà®¾à®•à¯à®•à¯",
                regSubtitle: "à®‰à®™à¯à®•à®³à¯ à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ à®®à®±à¯à®±à¯à®®à¯ à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯à®²à¯ˆ à®…à®®à¯ˆà®•à¯à®•à®µà¯à®®à¯",
                regUser: "à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯",
                regPass: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯",
                regConfirm: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯ à®‰à®±à¯à®¤à®¿à®ªà¯à®ªà®Ÿà¯à®¤à¯à®¤à®²à¯",
                regBtn: "à®•à®£à®•à¯à®•à¯ à®‰à®°à¯à®µà®¾à®•à¯à®•à¯",
                regBack: "à®‰à®³à¯à®¨à¯à®´à¯ˆà®µà¯à®•à¯à®•à¯ à®¤à®¿à®°à¯à®®à¯à®ªà¯",
                regAlready: "à®à®±à¯à®•à®©à®µà¯‡ à®•à®£à®•à¯à®•à¯ à®‰à®³à¯à®³à®¤à®¾?",
                regUserHint: "à®•à¯à®±à¯ˆà®¨à¯à®¤à®¤à¯ 3 à®à®´à¯à®¤à¯à®¤à¯à®•à®³à¯",
                regUserPH: "à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ˆ à®¤à¯‡à®°à¯à®µà¯ à®šà¯†à®¯à¯à®•",
                regPassPH: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯à®²à¯ˆ à®‰à®°à¯à®µà®¾à®•à¯à®•à®µà¯à®®à¯",
                regConfirmPH: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯à®²à¯ˆ à®®à¯€à®£à¯à®Ÿà¯à®®à¯ à®‰à®³à¯à®³à®¿à®Ÿà®µà¯à®®à¯",
                errMatch: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®±à¯à®•à®³à¯ à®ªà¯Šà®°à¯à®¨à¯à®¤à®µà®¿à®²à¯à®²à¯ˆ.",
                errTaken: "à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ à®à®±à¯à®•à®©à®µà¯‡ à®‰à®³à¯à®³à®¤à¯. à®µà¯‡à®±à¯ à®’à®©à¯à®±à¯ˆ à®¤à¯‡à®°à¯à®µà¯ à®šà¯†à®¯à¯à®•.",
                errShort: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯ à®•à¯à®±à¯ˆà®¨à¯à®¤à®¤à¯ 6 à®à®´à¯à®¤à¯à®¤à¯à®•à®³à¯ à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯.",
                errUserShort: "à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ à®•à¯à®±à¯ˆà®¨à¯à®¤à®¤à¯ 3 à®à®´à¯à®¤à¯à®¤à¯à®•à®³à¯ à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯.",
                successReg: "à®•à®£à®•à¯à®•à¯ à®‰à®°à¯à®µà®¾à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯! à®‡à®ªà¯à®ªà¯‹à®¤à¯ à®‰à®³à¯à®¨à¯à®´à¯ˆà®¯à®²à®¾à®®à¯.",
                // Forgot
                forgotPrompt: "à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯à®²à¯ˆ à®ªà¯†à®± à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯ˆ à®‰à®³à¯à®³à®¿à®Ÿà®µà¯à®®à¯:",
                forgotFound: (u, p) => `"${u}" à®‡à®©à¯ à®•à®Ÿà®µà¯à®šà¯à®šà¯Šà®²à¯: ${p}`,
                forgotNone: "à®…à®¨à¯à®¤ à®ªà®¯à®©à®°à¯à®ªà¯†à®¯à®°à¯à®Ÿà®©à¯ à®•à®£à®•à¯à®•à¯ à®‡à®²à¯à®²à¯ˆ.",
                // Strength
                weak: "à®®à®¿à®•à®µà¯à®®à¯ à®à®³à®¿à®¤à¯",
                fair: "à®šà®¾à®¤à®¾à®°à®£à®®à¯",
                good: "à®¨à®²à¯à®²à®¤à¯",
                strong: "à®µà®²à®¿à®®à¯ˆà®¯à®¾à®©à®¤à¯",
                typeCheck: "à®µà®²à®¿à®®à¯ˆà®¯à¯ˆà®šà¯ à®šà®°à®¿à®ªà®¾à®°à¯à®•à¯à®•à®µà¯à®®à¯",
            }
        };

        let currentLang = 'en';

        // â”€â”€â”€ Built-in demo users (fallback) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const builtInUsers = [
            { username: 'player', password: 'hangman123' },
            { username: 'admin', password: 'admin@2025' }
        ];

        // â”€â”€â”€ User storage helpers (localStorage) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function getUsers() {
            return JSON.parse(localStorage.getItem('hgUsers') || '[]');
        }
        function saveUsers(users) {
            localStorage.setItem('hgUsers', JSON.stringify(users));
        }
        function findUser(uname, pass) {
            // Check registered users first
            const users = getUsers();
            const reg = users.find(u => u.username === uname && u.password === pass);
            if (reg) return reg;
            // Fallback to built-in
            return builtInUsers.find(u => u.username === uname && u.password === pass) || null;
        }
        function userExists(uname) {
            const users = getUsers();
            const inReg = users.some(u => u.username.toLowerCase() === uname.toLowerCase());
            const inBuilt = builtInUsers.some(u => u.username.toLowerCase() === uname.toLowerCase());
            return inReg || inBuilt;
        }

        // â”€â”€â”€ Language switch â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function setLang(lang) {
            currentLang = lang;
            const t = translations[lang];

            // Login card
            set('txt-title', t.title);
            set('txt-subtitle', t.subtitle);
            set('lbl-username', t.username);
            set('lbl-password', t.password);
            set('txt-remember', t.remember);
            set('txt-forgot', t.forgot);
            set('txt-or', t.or);
            set('txt-noaccount', t.noAccount);
            set('txt-register', t.register);
            set('txt-funfact', t.funfact);
            set('txt-guestbtn', t.guestBtn);
            set('btn-label-text', t.loginBtn);

            // Placeholders
            document.getElementById('username').placeholder = t.userPH;
            document.getElementById('password').placeholder = t.passPH;

            // Register card
            set('reg-title', t.regTitle);
            set('reg-subtitle', t.regSubtitle);
            set('reg-lbl-user', t.regUser);
            set('reg-lbl-pass', t.regPass);
            set('reg-lbl-confirm', t.regConfirm);
            set('reg-btn-text', t.regBtn);
            set('reg-back', t.regBack);
            set('reg-already', t.regAlready);
            set('reg-user-hint', t.regUserHint);
            set('reg-strengthLabel', t.typeCheck);

            document.getElementById('reg-username').placeholder = t.regUserPH;
            document.getElementById('reg-password').placeholder = t.regPassPH;
            document.getElementById('reg-confirm').placeholder = t.regConfirmPH;

            // Active toggle
            document.getElementById('btn-en').classList.toggle('active', lang === 'en');
            document.getElementById('btn-ta').classList.toggle('active', lang === 'ta');

            // Font
            document.body.style.fontFamily = lang === 'ta'
                ? "'Noto Sans Tamil', sans-serif"
                : "'Open Sans', sans-serif";

            document.getElementById('errorMsg').innerText = '';
            document.getElementById('regErrorMsg').innerText = '';
        }

        function set(id, val) {
            const el = document.getElementById(id);
            if (el) el.innerText = val;
        }

        // â”€â”€â”€ Toggle password visibility â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function togglePass(inputId, btn) {
            const inp = document.getElementById(inputId);
            inp.type = inp.type === 'password' ? 'text' : 'password';
            btn.innerText = inp.type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
        }

        // â”€â”€â”€ Password strength checker â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function checkStrength(val) {
            const fill = document.getElementById('reg-strengthFill');
            const label = document.getElementById('reg-strengthLabel');
            const t = translations[currentLang];

            if (!val) {
                fill.style.width = '0%';
                fill.style.background = '#e0e0e0';
                label.innerText = t.typeCheck;
                label.style.color = 'rgba(255,255,255,0.4)';
                return;
            }

            let score = 0;
            if (val.length >= 6) score++;
            if (val.length >= 10) score++;
            if (/[A-Z]/.test(val)) score++;
            if (/[0-9]/.test(val)) score++;
            if (/[^A-Za-z0-9]/.test(val)) score++;

            const levels = [
                { w: '25%', bg: '#e74c3c', lbl: t.weak },
                { w: '50%', bg: '#f39c12', lbl: t.fair },
                { w: '75%', bg: '#3498db', lbl: t.good },
                { w: '100%', bg: '#27ae60', lbl: t.strong },
            ];
            const idx = Math.min(Math.floor((score / 5) * 4), 3);
            const lv = levels[idx];

            fill.style.width = lv.w;
            fill.style.background = lv.bg;
            label.innerText = lv.lbl;
            label.style.color = lv.bg;
        }

        // â”€â”€â”€ Handle Login â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function handleLogin(e) {
            e.preventDefault();
            const t = translations[currentLang];
            const uname = document.getElementById('username').value.trim();
            const pass = document.getElementById('password').value.trim();
            const errEl = document.getElementById('errorMsg');

            if (!uname || !pass) { errEl.innerText = t.errEmpty; shakeCard('loginCard'); return; }

            const match = findUser(uname, pass);
            if (!match) { errEl.innerText = t.errWrong; shakeCard('loginCard'); return; }

            // Save session
            if (document.getElementById('remember').checked) {
                localStorage.setItem('hgPlayer', uname);
            }
            sessionStorage.setItem('hgPlayer', uname);

            // Success feedback
            const btn = document.getElementById('txt-loginbtn');
            btn.style.background = '#27ae60';
            document.getElementById('btn-label-text').innerText = `âœ… ${t.welcome}, ${uname}!`;
            setTimeout(() => { window.location.href = 'index.html'; }, 1200);
        }

        // â”€â”€â”€ Guest Login â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function guestLogin() {
            sessionStorage.setItem('hgPlayer', 'Guest');
            window.location.href = 'index.html';
        }

        // â”€â”€â”€ Show Register card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function showRegister() {
            document.getElementById('loginCard').style.display = 'none';
            document.getElementById('registerCard').style.display = 'block';
            document.getElementById('regErrorMsg').innerText = '';
            document.getElementById('regSuccessMsg').innerText = '';
            document.getElementById('registerForm').reset();
            document.getElementById('reg-strengthFill').style.width = '0%';
            document.getElementById('reg-strengthLabel').innerText = translations[currentLang].typeCheck;
        }

        // â”€â”€â”€ Show Login card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function showLogin() {
            document.getElementById('registerCard').style.display = 'none';
            document.getElementById('loginCard').style.display = 'block';
            document.getElementById('errorMsg').innerText = '';
        }

        // â”€â”€â”€ Handle Register â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function handleRegister(e) {
            e.preventDefault();
            const t = translations[currentLang];
            const uname = document.getElementById('reg-username').value.trim();
            const pass = document.getElementById('reg-password').value;
            const confirm = document.getElementById('reg-confirm').value;
            const errEl = document.getElementById('regErrorMsg');
            const sucEl = document.getElementById('regSuccessMsg');

            errEl.innerText = '';
            sucEl.innerText = '';

            if (uname.length < 3) { errEl.innerText = t.errUserShort; shakeCard('registerCard'); return; }
            if (pass.length < 6) { errEl.innerText = t.errShort; shakeCard('registerCard'); return; }
            if (pass !== confirm) { errEl.innerText = t.errMatch; shakeCard('registerCard'); return; }
            if (userExists(uname)) { errEl.innerText = t.errTaken; shakeCard('registerCard'); return; }

            // Save new user
            const users = getUsers();
            users.push({ username: uname, password: pass });
            saveUsers(users);

            sucEl.innerText = t.successReg;

            // Pre-fill login and switch back after 1.5s
            setTimeout(() => {
                document.getElementById('username').value = uname;
                document.getElementById('password').value = '';
                showLogin();
            }, 1500);
        }

        // â”€â”€â”€ Forgot password â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function showForgot() {
            const t = translations[currentLang];
            const uname = prompt(t.forgotPrompt);
            if (!uname) return;

            const users = getUsers();
            const regUser = users.find(u => u.username.toLowerCase() === uname.trim().toLowerCase());
            const builtIn = builtInUsers.find(u => u.username.toLowerCase() === uname.trim().toLowerCase());
            const found = regUser || builtIn;

            if (found) {
                alert(t.forgotFound(found.username, found.password));
            } else {
                alert(t.forgotNone);
            }
        }

        // â”€â”€â”€ Shake animation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function shakeCard(id) {
            const el = document.getElementById(id);
            el.classList.add('shake');
            setTimeout(() => el.classList.remove('shake'), 500);
        }

        // â”€â”€â”€ Auto-fill from localStorage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        window.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('hgPlayer');
            if (saved) {
                document.getElementById('username').value = saved;
                document.getElementById('remember').checked = true;
            }
        });
    </script>

</body>

</html>